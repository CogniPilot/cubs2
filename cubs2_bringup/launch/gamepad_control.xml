<launch>
  <!-- Launch gamepad control for SportCub simulation -->
  
  <!-- Configuration file path -->
  <let name="gamepad_config" value="$(find-pkg-share cubs2_bringup)/config/8bitdo_81hd.yaml"/>
  
  <!-- Launch joy_node to read gamepad input -->
  <node pkg="joy" exec="joy_node" name="joy_node">
    <!-- Common gamepad device paths:
         /dev/input/js0 (first joystick)
         /dev/input/js1 (second joystick)
    -->
    <param name="dev" value="/dev/input/js0"/>
    <param name="deadzone" value="0.05"/>
    <param name="autorepeat_rate" value="50.0"/>
  </node>
  
  <!-- Launch gamepad control node with configuration -->
  <node pkg="cubs2_control" exec="gamepad_control.py" name="gamepad_control" output="screen">
    <param from="$(var gamepad_config)"/>
  </node>
</launch>
